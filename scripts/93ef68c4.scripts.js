"use strict";angular.module("angularFlickrApp",["ngRoute","FlickrAPI"]).config(["$routeProvider","FlickrProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/:photoset_title/:photoset_id",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"}),b.setApiKey("bab05ea17002c5f9f458a145df6ff286"),b.setUserId("66052014@N08")}]).run(["$rootScope",function(a){a.photosets=[],a.about=!1,a.contact=!1}]),angular.module("angularFlickrApp").controller("MainCtrl",["$rootScope","$scope","$routeParams","Flickr","facebookConfig",function(a,b,c,d,e){a.currentPhotoset=c.photoset_id||"72157627503614426",a.photosets&&a.photosets[a.currentPhotoset]?b.photoset=a.photosets[a.currentPhotoset]:d.getSet(a.currentPhotoset,"url_l").then(function(c){b.photoset=c.photoset,a.photosets[a.currentPhotoset]=c.photoset}),b.sharePicture=function(a,b){FB.ui({method:"feed",link:window.location.href,picture:a,name:b,caption:e.caption,description:e.description})}}]),angular.module("FlickrAPI",[]).provider("Flickr",function(){var a="http://api.flickr.com/services/rest/?format=json",b="",c="",d="url_l";this.setApiKey=function(a){b=a||b},this.setUserId=function(a){c=a||c},this.$get=["$q","$http",function(e,f){var g={getCollections:function(){var d=e.defer();return f({method:"JSONP",url:a,params:{api_key:b,user_id:c,jsoncallback:"JSON_CALLBACK",method:"flickr.collections.getTree"}}).success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},getSet:function(c,g){var h=e.defer();return f({method:"JSONP",url:a,params:{api_key:b,photoset_id:c,jsoncallback:"JSON_CALLBACK",method:"flickr.photosets.getPhotos",extras:g||d}}).success(function(a){h.resolve(a)}).error(function(a){h.reject(a)}),h.promise}};return g}]}),angular.module("angularFlickrApp").controller("GallerylistCtrl",["$rootScope","$scope","Flickr",function(a,b,c){b.currentGallery=null,b.setCurrentGallery=function(a){b.currentGallery=a},b.isCurrentGallery=function(b){return a.currentPhotoset===b},c.getCollections().then(function(a){b.collections=a.collections})}]),angular.module("angularFlickrApp").constant("facebookConfig",{caption:"Hreniuc Alexandru",description:"http://www.facebook.com/fotohreniuc | www.alexhreniuc.ro | tel: 0040744586226"});